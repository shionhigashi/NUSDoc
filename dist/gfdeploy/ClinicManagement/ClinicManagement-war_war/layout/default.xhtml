<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <h:outputStylesheet name="css/default.css"/>
        <h:outputStylesheet name="css/cssLayout.css"/>
        
        <title><ui:insert name="title">Title</ui:insert></title>

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous"></link>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap-theme.min.css" integrity="sha384-6pzBo3FDv/PJ8r2KRkGHifhEocL+1X2rVCTTkUfGk7/0pbek5mMa1upzvWbrUbOZ" crossorigin="anonymous"></link>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"></link>
        
        <link rel="stylesheet" href="#{request.contextPath}/resources/css/styles.css" />

        <link href='https://fonts.googleapis.com/css?family=Poppins:400,700' rel='stylesheet'></link>
        <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet'></link>

        <script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>
        <script src="#{request.contextPath}/resources/js/clinicManagement.js"></script>
        
        
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                var savedTasks = JSON.parse(localStorage.getItem('tasks')) || [];
                var list = document.getElementById('todo-list');

                // Function to update localStorage
                function updateLocalStorage() {
                    var tasksArray = Array.from(list.children).map(function(item) {
                        return item.firstChild.textContent;
                    });
                    localStorage.setItem('tasks', JSON.stringify(tasksArray));
                }

                // Function to remove a task
                function removeTask(event) {
                    var itemToRemove = event.target.closest('li');
                    list.removeChild(itemToRemove);
                    updateLocalStorage();
                }

                // Function to create a new list item
                function createListItem(taskContent) {
                    var newItem = document.createElement('li');
                    newItem.classList.add('list-group-item');

                    var textSpan = document.createElement('span');
                    textSpan.textContent = taskContent;
                    newItem.appendChild(textSpan);

                    // Create the delete button
                    var deleteBtn = document.createElement('button');
                    deleteBtn.textContent = 'Done'; 
                    deleteBtn.style.color = '#ADD8E6';
                    deleteBtn.style.textDecoration = 'none';
                    deleteBtn.style.padding = '3px 5px';
                    deleteBtn.style.backgroundColor = '#F0F8FF';
                    deleteBtn.style.borderRadius = '5px';
                    deleteBtn.style.border = '1px solid #ADD8E6';
                    deleteBtn.style.display = 'inline-block';
                    deleteBtn.style.transform = 'translateY(-3px)';
                    deleteBtn.onmouseover = function() {
                        this.style.backgroundColor = '#ADD8E6';
                        this.style.color = '#FFFFFF';
                        this.style.borderColor = '#6495ED';
                        event.stopPropagation();
                    };
                    deleteBtn.onmouseout = function() {
                        this.style.backgroundColor = '#F0F8FF';
                        this.style.color = '#ADD8E6';
                        this.style.borderColor = '#ADD8E6';
                    };
                    deleteBtn.style.float = 'right'; // Float the button to the right
                    deleteBtn.onclick = removeTask;
                    newItem.appendChild(deleteBtn);


                    return newItem;
                }

                // Display tasks from localStorage
                savedTasks.forEach(function(task) {
                    var newItem = createListItem(task);
                    list.appendChild(newItem);
                });
                
                // Add new task to list and save to localStorage
                document.getElementById('add-task-button').addEventListener('click', function() {
                    var input = document.getElementById('new-task-input');
                    var newTask = input.value.trim();
                    if (newTask) {
                                var newItem = createListItem(newTask);
                                list.appendChild(newItem);
                                input.value = ''; // Clear input field after adding task
                                updateLocalStorage();
                            } else {
                                // Optionally handle the empty input case
                            }
                    });
            }
        </script>
        
        <style>
            #todo-list li {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                font-size: 16px; 
                font-weight: bold; /* This will make the text bold */
                transition: background-color 0.3s ease-in-out, transform 0.3s ease-in-out;
                cursor: pointer;
                margin-bottom: 0.5rem;
                border: 1px solid #ddd;
                border-radius: 0.25rem;
                padding: 0.75rem 1.25rem;
            }
            #todo-list li:hover {
                background-color: #D0E4F7;
                transform: translateY(-2px);
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            }
            .input-group-append .btn {
                margin-left: 0.5rem;
            }
        </style>
        
    </h:head>

    <h:body>
        <nav class="navbar navbar-default no-margin">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header fixed-brand">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" id="menu-toggle">
                    <span class="glyphicon glyphicon-th-large" aria-hidden="true"></span>
                </button>
                <a class="navbar-brand" href="#">
                    <i class="fa fa-heart fa-4"></i> 
                    NUSDoc
                </a>
            </div>
            
            <!-- navbar-header-->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li class="active">
                        <button class="navbar-toggle collapse in" data-toggle="collapse" id="menu-toggle-2"> <span class="glyphicon glyphicon-th-large" aria-hidden="true"></span>
                        </button>
                    </li>
                </ul>
            </div>
        </nav>
        
        <div id="wrapper">
            <!-- Sidebar -->
            <div id="sidebar-wrapper">
                <ul class="sidebar-nav nav-pills nav-stacked" id="menu">
                    <li>
                        <a href="#{request.contextPath}/staff/dashboard.xhtml">
                            <span class="fa-stack fa-lg pull-left">
                                <i class="fa fa-dashboard fa-stack-1x "></i>
                            </span>Dashboard
                        </a>
                    </li>
                    <li>
                        <a href="#{request.contextPath}/staff/viewAllAppointments.xhtml">
                            <span class="fa-stack fa-lg pull-left">
                                <i class="fa fa-cloud-download fa-stack-1x "></i>
                            </span>Appointments
                        </a>
                    </li>
                  
                   
                    <li>
                        <h:form>
                            <h:commandLink action="#{authenticationManagedBean.logout}" styleClass="navbar-link">
                                <span class="fa-stack fa-lg pull-left">
                                    <i class="fa fa-sign-out fa-stack-1x"></i>
                                </span>Logout
                                
                            </h:commandLink>
                        </h:form>
                    </li>
                </ul> 
            </div>
            <div class="content-wrapper" style="background-color: #F8F8FF; padding-top: 50px;">
                <ui:insert name="content"></ui:insert>
            </div>

           
        </div>
    </h:body>
    
    <ui:insert name="script">Script</ui:insert>

</html>
